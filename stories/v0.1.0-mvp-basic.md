# Story: v0.1.0 MVP åŸºç¡€åŠŸèƒ½

> å®ç°åŸºç¡€å¯¹è¯åŠŸèƒ½å’Œç®€å• TUIï¼ŒéªŒè¯ Zig å®ç° AI ä»£ç åŠ©æ‰‹çš„å¯è¡Œæ€§

## Goals

- èƒ½å¤Ÿä¸ Claude API è¿›è¡ŒåŸºç¡€å¯¹è¯
- TUI ç•Œé¢èƒ½å¤Ÿæ˜¾ç¤ºæ¶ˆæ¯å’Œæ¥æ”¶è¾“å…¥
- é…ç½®æ–‡ä»¶æ”¯æŒ API key è®¾ç½®

## Acceptance Criteria

### é¡¹ç›®é…ç½®

- [x] build.zig.zon æ·»åŠ  libvaxis ä¾èµ–
- [x] build.zig.zon æ·»åŠ  ai-zig ä¾èµ–
- [x] build.zig é…ç½®æ¨¡å—å¯¼å…¥
- [x] åˆ›å»ºç›®å½•ç»“æ„ (core, models, providers, tui ç­‰)

### src/models/message.zig

- [x] Role æšä¸¾å®šä¹‰ (user, assistant, system, tool_call, tool_result)
- [x] Message ç»“æ„ä½“å®šä¹‰
- [x] Conversation ç»“æ„ä½“å®šä¹‰
- [x] ToolCall å’Œ ToolResult ç»“æ„ä½“
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡

### src/core/config.zig

- [x] ProviderType æšä¸¾å®šä¹‰
- [x] ProviderConfig ç»“æ„ä½“
- [x] Config ç»“æ„ä½“å’Œåˆå§‹åŒ–
- [x] loadDefaults é»˜è®¤é…ç½®åŠ è½½
- [x] ç¯å¢ƒå˜é‡ API key è¯»å–
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡

### src/providers/client.zig

- [ ] ä½¿ç”¨ ai-zig SDK å°è£… AI å®¢æˆ·ç«¯
- [ ] Anthropic Claude æä¾›å•†é…ç½®
- [ ] OpenAI æä¾›å•†é…ç½®
- [ ] Ollama æœ¬åœ°æ¨¡å‹é…ç½®
- [ ] æµå¼å“åº”å›è°ƒæ”¯æŒ
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡

### src/tui/app.zig

- [ ] åŸºäº libvaxis çš„ TUI åº”ç”¨æ¡†æ¶
- [ ] äº‹ä»¶å¾ªç¯å¤„ç†
- [ ] é”®ç›˜è¾“å…¥å¤„ç†
- [ ] çª—å£å¤§å°è°ƒæ•´

### src/tui/widgets/editor.zig

- [ ] æ–‡æœ¬è¾“å…¥æ¡†ç»„ä»¶
- [ ] å…‰æ ‡ç§»åŠ¨
- [ ] åŸºç¡€ç¼–è¾‘åŠŸèƒ½

### src/tui/pages/chat.zig

- [ ] èŠå¤©é¡µé¢å¸ƒå±€
- [ ] æ¶ˆæ¯åˆ—è¡¨æ˜¾ç¤º
- [ ] è¾“å…¥åŒºåŸŸ
- [ ] æ»šåŠ¨æ”¯æŒ

### src/main.zig

- [ ] CLI å…¥å£ç‚¹
- [ ] é…ç½®åŠ è½½
- [ ] TUI å¯åŠ¨
- [ ] åŸºç¡€å¯¹è¯æµç¨‹

### Integration

- [ ] root.zig å¯¼å‡ºå…¬å…± API
- [ ] æ–‡æ¡£æ›´æ–° (ROADMAP, CHANGELOG)
- [ ] `zig build` ç¼–è¯‘é€šè¿‡
- [ ] `zig build test` æµ‹è¯•é€šè¿‡
- [ ] èƒ½å¤Ÿè¿›è¡ŒåŸºç¡€å¯¹è¯éªŒè¯

## Technical Notes

### ä½¿ç”¨ ai-zig SDK

ä¸éœ€è¦è‡ªè¡Œå®ç° HTTP å®¢æˆ·ç«¯å’Œ API åè®®ï¼Œç›´æ¥ä½¿ç”¨ ai-zig:

```zig
const ai = @import("ai");

// åˆ›å»ºæä¾›å•†
const provider = ai.providers.Anthropic.init(.{
    .api_key = api_key,
});

// ç”Ÿæˆæ–‡æœ¬
const response = try provider.model("claude-sonnet-4-20250514").generateText(.{
    .messages = messages,
});

// æµå¼å“åº”
try provider.model("claude-sonnet-4-20250514").streamText(.{
    .messages = messages,
    .on_chunk = handleChunk,
});
```

### ä½¿ç”¨ libvaxis TUI

```zig
const vaxis = @import("vaxis");

// TUI åº”ç”¨
var vx = try vaxis.init(allocator, .{});
defer vx.deinit();

// äº‹ä»¶å¾ªç¯
while (true) {
    const event = try vx.nextEvent();
    // å¤„ç†äº‹ä»¶...
}
```

## Completion Status

- Start date: 2026-01-14
- Completion date: -
- Status: ğŸ”¨ In Progress

## References

- [ai-zig GitHub](https://github.com/evmts/ai-zig) - AI SDK
- [libvaxis GitHub](https://github.com/rockorager/libvaxis) - TUI æ¡†æ¶
- [Implementation Plan](../docs/IMPLEMENTATION_PLAN.md) - è¯¦ç»†å®æ–½è®¡åˆ’
